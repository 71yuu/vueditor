/*!
 * vueditor v0.4.0
 * https://github.com/hifarer/vueditor.git
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define(["vue"],t):"object"==typeof exports?exports.Vueditor=t(require("vue")):e.Vueditor=t(e.Vue)}(window,function(e){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=38)}([function(e,t,n){"use strict";function i(e,t,n,i,a,o,s,r){var c,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):a&&(c=r?function(){a.call(this,this.$root.$options.shadowRoot)}:a),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:l}}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";t.a={computed:{show:function(){return this.activeComponent===this.$options.name}},methods:{toggleMenu:function(e){var t=this.$options.name;if("design"===this.view||"codeSnippet"===this.view&&"codeSnippet"===t)if(this.activeComponent!==t){this.$refs.popup.style.display="block";var n=e.currentTarget.parentNode,i=n.getBoundingClientRect(),a=this.$refs.popup.offsetWidth,o=-1!==["emoji","link"].indexOf(t)?"getPositionForPopup":"getPositionForDropdown";this.position=this[o]({popWidth:a,btnWidth:i.width,btnHeight:i.height,rectLeft:i.left,offsetLeft:n.offsetLeft}),this.eventHub.$emit("set-active-component",t)}else this.eventHub.$emit("set-active-component")},getPositionForDropdown:function(e){var t=e.popWidth,n=e.btnWidth,i=e.btnHeight,a=e.rectLeft,o=e.offsetLeft,s=o;return a+o+t-document.documentElement.clientWidth>0&&(s=a+o+n-t<0?o+(n-t)/2:o+n-t),{left:s+"px",top:i+"px"}},getPositionForPopup:function(e){var t=e.popWidth,n=e.btnWidth,i=e.btnHeight,a=e.rectLeft,o=e.offsetLeft,s=o+n/2-t/2;return a+s<0&&(s=-a),a+s+t>document.documentElement.clientWidth&&(s=document.documentElement.clientWidth-(a+o)-t),{left:s+"px",top:i+"px",arrowLeft:Math.abs(s)+n/2+"px"}}}}},function(e,t,n){"use strict";function i(){var e="",t=window.navigator.userAgent;return-1!==t.indexOf("Chrome")?e=-1!==t.indexOf("Edge")?"Edge":"Chrome":-1!==t.indexOf("MSIE")?e="IE":-1!==t.indexOf("Firefox")&&(e="Firefox"),e}n.d(t,"a",function(){return i})},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=n(2),a={name:"picture",props:{config:Object,view:String,activeComponent:String},data:function(){return{url:"",lang:window.__VUEDITOR_LANGUAGE__.picture}},inject:["eventHub"],computed:{show:function(){return"picture"===this.activeComponent}},watch:{show:function(e){var t=document.body;e?t.classList?t.classList.add("ve-fixed"):t.className+="ve-fixed":t.classList?t.classList.remove("ve-fixed"):t.className=t.className.replace("ve-fixed","")}},methods:{clickHandler:function(e){this.eventHub.$emit("set-active-component","picture")},hideDialog:function(){this.eventHub.$emit("set-button-status",{picture:"default"}),this.eventHub.$emit("set-active-component")},changeHandler:function(){var e=this.$refs.file;e.files&&0!==e.files.length&&e.files[0].type.match(/^image\//i)&&("IE"===Object(i.a)()?this.url=e.value:this.url=window.URL.createObjectURL(e.files[0]))},pasteHandler:function(e){var t=this;Array.prototype.forEach.call(e,function(e){if(e.getAsFile()&&"file"===e.kind&&e.type.match(/^image\//i)){var n=new FileReader;n.onload=function(e){t.config.url?t.upload(e.target.result):(t.url=e.target.result,t.eventHub.$emit("insert-html",'<img src="'.concat(t.url,'">')))},n.readAsDataURL(e.getAsFile())}})},certainHandler:function(){var e=this,t=this.$refs.file;this.url?"function"==typeof this.$parent.upload?this.$parent.upload(t,function(t){e.eventHub.$emit("insert-html",'<img src="'.concat(t,'">')),e.hideDialog()}):this.config.url?this.upload(t.file[0]):(this.eventHub.$emit("insert-html",'<img src="'.concat(this.url,'">')),this.hideDialog()):window.alert(this.lang.invalidFile)},upload:function(e){var t=this,n=this.config,i=n.url,a=n.fieldName,o=new window.FormData,s=new window.XMLHttpRequest;o.append(a,e),s.open("POST",i),s.send(o),s.onload=function(){s.status>=200&&s.status<300||304===s.status?t.eventHub.$emit("insert-html",'<img src="'.concat(s.responseText,'">')):window.alert(s.responseText),t.hideDialog()},s.onerror=function(e){window.alert(e)}}},mounted:function(){this.$el.parentNode.parentNode.appendChild(this.$refs.dialog)},created:function(){this.eventHub.$on("paste-upload",this.pasteHandler)},destroyed:function(){this.$refs.dialog&&this.$refs.dialog.parentNode&&this.$refs.dialog.parentNode.removeChild(this.$refs.dialog)}};t.a=a},function(e,t,n){"use strict";var i=n(2),a=(Object(i.a)(),{name:"design",props:{config:{validator:function(e){return Array.isArray(e.toolbar)}},view:String,content:String},data:function(){return{lang:window.__VUEDITOR_LANGUAGE__.design}},inject:["range","eventHub"],created:function(){this.timer=null,this.eventHub.$on("insert-html",this.insertHTML),this.eventHub.$on("exec-command",this.execCommand)},beforeDestroy:function(){clearTimeout(this.timer)},watch:{content:function(e){this.iframeBody&&this.iframeBody.innerHTML!==e&&(this.iframeBody.innerHTML=e)}},methods:{init:function(e){this.iframeWin=e.target.contentWindow,this.iframeDoc=this.iframeWin.document,this.iframeBody=this.iframeWin.document.body,this.content&&this.iframeBody.innerHTML!==this.content&&(this.iframeBody.innerHTML=this.content),this.addEvent(),this.range.setIframeWin(this.iframeWin)},setButtonStatus:function(){for(var e,t={},n=this.config.toolbar,i=0;i<n.length;i++)e=n[i],this.iframeDoc.queryCommandSupported(e)&&-1===["redo","undo"].indexOf(e)&&(t[e]=this.iframeDoc.queryCommandState(e)?"active":"default");this.eventHub.$emit("set-button-status",t)},triggerEvent:function(e){var t=document.createEvent("Event");t.initEvent(e,!1,!0),this.iframeDoc.dispatchEvent(t)},addEvent:function(){var e=this,t=null;this.iframeDoc.addEventListener("click",function(){clearTimeout(t),t=setTimeout(function(){"design"===e.view&&e.eventHub.$emit("set-active-component")},200),e.triggerEvent("selectionchange")},!1),this.iframeBody.addEventListener("keydown",this.keydownHandler,!1),this.iframeBody.addEventListener("keyup",this.keyupHandler,!1),this.iframeBody.addEventListener("paste",this.pasteHandler,!1),this.selectionChange()},keydownHandler:function(e){!e.ctrlKey||89!==e.keyCode&&90!==e.keyCode||(e.preventDefault(),89===e.keyCode&&this.eventHub.$emit("redo"),90===e.keyCode&&this.eventHub.$emit("undo"));var t=this.range.getContainer();13===e.keyCode&&t&&-1!==["code","td","div","p","h1","h2","h3","h4","h5","h6"].indexOf(t.tagName.toLowerCase())&&(e.preventDefault(),this.enterHandler(this.shouldAddNewLine(t)))},getDOMNodePath:function(e,t){var n="",i=[];do{n=t.tagName.toLowerCase(),i.push(n),t=t.parentNode}while(n!==e.tagName.toLowerCase()&&e.contains(t));return i},shouldAddNewLine:function(e){var t=!0,n=this.getDOMNodePath(this.iframeBody,e),i=["code","td"],a=["div","p","h1","h2","h3","h4","h5","h6"],o=-1,s=-1;return n.forEach(function(e,t){-1!==a.indexOf(e)&&-1===o&&(o=t),-1!==i.indexOf(e)&&-1===s&&(s=t)}),-1!==s&&(-1===o||-1!==o&&o>s)&&(t=!1),t},enterHandler:function(e){var t=this.range.getRange();if(t){var n=this.range.getContainer();if(e)t.collapsed||t.deleteContents(),t.setEndAfter(n),n.parentNode.insertBefore(t.extractContents(),n.nextElementSibling),""===n.nextElementSibling.innerHTML.trim()&&(n.nextElementSibling.innerHTML="<br>"),""===n.innerHTML.trim()&&(n.innerHTML="<br>"),n.nextElementSibling.scrollIntoView(),t.setStart(n.nextElementSibling,0);else{var i=this.iframeDoc.createElement("br");t.insertNode(i),i.insertAdjacentHTML("afterend","&#8203;"),t.setStartAfter(i.nextSibling)}t.collapse(!0)}},keyupHandler:function(e){var t=this;clearTimeout(this.timer),this.timer=setTimeout(function(){t.eventHub.$emit("set-content",t.iframeBody.innerHTML)},200)},pasteHandler:function(e){var t=this;if(this.range.getContainer()){var n=e.clipboardData||window.clipboardData,i=n.getData("text/plain")||n.getData("Text");if(this.config.paste.noFormat){e.preventDefault();var a=i.replace(/(<|>)/gim,function(e){return e.replace("<","&lt;").replace(">","&gt;")}).split("\n");this.insertHTML(a.shift()||""),a.forEach(function(e){null!==e.match(/\S/gm)&&t.insertHTML("<br>"+e)})}this.config.paste.upload&&n.items&&this.eventHub.$emit("paste-upload",n.items)}},selectionChange:function(){var e=this,t=null;if(this.iframeDoc.addEventListener("selectionchange",function(){clearTimeout(t),t=setTimeout(function(){e.checkElement(),"design"===e.view&&e.setButtonStatus()},200)},!1),!("onselectionchange"in document)){var n=this.range.getSelection(),i=-1;setInterval(function(){n&&n.rangeCount?i!==n.focusOffset&&(i=n.focusOffset,e.checkElement(),"design"===e.view&&e.setButtonStatus()):n=e.range.getSelection()},200)}},checkElement:function(){var e=this.range.getRange();if(e){var t=this.range.getContainer(),n=t.tagName.toLowerCase(),i=this.getDOMNodePath(this.iframeBody,t);if(-1!==["pre","code"].indexOf(n))"pre"===n?e.startContainer===e.endContainer&&3===e.startContainer.nodeType&&this.wrapTextNode(e,"code"):this.eventHub.$emit("sync-select-value",{type:"codeSnippet",data:t.attributes}),"design"===this.view&&this.eventHub.$emit("set-view","codeSnippet");else{var a=window.getComputedStyle(t),o=a.fontFamily.replace(", sans-serif","").replace(/"/g,""),s=a.fontSize;"body"===n&&e.startContainer===e.endContainer&&3===e.startContainer.nodeType&&this.wrapTextNode(e,"p"),this.eventHub.$emit("sync-select-value",{type:"element",data:i}),this.eventHub.$emit("sync-select-value",{type:"fontName",data:o}),this.eventHub.$emit("sync-select-value",{type:"fontSize",data:s}),"design"!==this.view&&this.eventHub.$emit("set-view","design")}}},setStyleWithCss:function(e){try{this.iframeDoc.execCommand("styleWithCSS",!1,e)}catch(t){try{this.iframeDoc.execCommand("useCSS",!1,!e)}catch(e){}}},execCommand:function(e){var t=this,n=e.name,i=e.value;this.range.getRange()&&(this[n]?this[n](i):(this.setStyleWithCss(!1),this.iframeDoc.execCommand(n,!1,i)),this.triggerEvent("selectionchange"),this.iframeBody.focus(),setTimeout(function(){t.eventHub.$emit("set-content",t.iframeBody.innerHTML)},200))},insertHTML:function(e){var t=this.range.getRange();if(t&&e){t.deleteContents();var n=null,i=this.iframeDoc.createDocumentFragment(),a=this.iframeDoc.createElement("div");for(a.innerHTML=e;a.firstChild;)n=a.firstChild,i.appendChild(n);if(t.insertNode(i),n.hasChildNodes()&&1===n.childNodes[0].nodeType){for(;n.hasChildNodes()&&1===n.childNodes[0].nodeType;)n=n.childNodes[0];"br"===n.tagName.toLowerCase()?t.selectNode(n):t.setStart(n,0)}else t.setStartAfter(n),t.collapse(!0);this.iframeBody.focus()}},removeFormat:function(e){this.iframeDoc.execCommand("removeFormat",!1,e);var t=this.range.getContainer(!0);t&&(console.log(t.innerHTML||t.textContent),this.formatContent(t),t.normalize())},formatContent:function(e){if(3!==e.nodeType)for(var t=Array.prototype.slice.call(e.getElementsByTagName("span")),n=0;n<t.length;n++){var i=t[n];if(0===i.children.length)if(1===i.attributes.length&&"style"===i.attributes[0].nodeName&&i.parentNode){var a=i.parentNode;a.replaceChild(document.createTextNode(i.innerText||i.textContent),i),a.normalize()}else i.removeAttribute("style");else this.formatContent(i)}},wrapTextNode:function(e,t){var n=e.startOffset,i=this.iframeDoc.createElement(t);i.innerText=e.startContainer.nodeValue,e.startContainer.parentNode.replaceChild(i,e.startContainer),e.setStart(i.childNodes[0],n),e.collapse(!0),this.eventHub.$emit("set-content",this.iframeBody.innerHTML)}}});t.a=a},function(e,t,n){"use strict";var i=n(1),a=n(2),o=Object(a.a)(),s={name:"fontName",props:{view:String,activeComponent:String},data:function(){return{list:[{val:"arial black"},{val:"times new roman"},{val:"Courier New"}],val:"arial black",position:{left:0,top:0}}},inject:["range","eventHub"],mixins:[i.a],methods:{clickHandler:function(e){this.toggleMenu(e)},selectHandler:function(e){this.val=e.abbr||e.val,"IE"!==o?this.eventHub.$emit("exec-command",{name:"fontName",value:e.val+", sans-serif"}):this.setFontName(e.val+", sans-serif"),this.eventHub.$emit("set-active-component")},replaceFontWithSpan:function(e){if(1===e.nodeType){var t=document.createElement("span");for(Array.prototype.forEach.call(e.attributes,function(e){"face"!==e.nodeName&&t.setAttribute(e.nodeName,e.nodeValue)});e.firstChild;)t.appendChild(e.firstChild);return t.normalize(),e.parentNode.replaceChild(t,e),t}},setFontName:function(e){var t=this,n=this.range.getRange();if(n&&!n.collapsed){var i=n.commonAncestorContainer;if(1===i.childNodes.length)1===i.childNodes[0].nodeType?i.childNodes[0].style.fontFamily=e:i.style.fontFamily=e;else{this.eventHub.$emit("exec-command",{name:"fontName",value:e}),3===(i=n.commonAncestorContainer).nodeType&&(i=i.parentNode),i=i.parentNode;var a,o,s=[].slice.call(i.getElementsByTagName("font")),r=[].slice.call(i.getElementsByTagName("span"));0!==s.length&&s.forEach(function(n,i){var r=t.replaceFontWithSpan(n);r.style.fontFamily=e,0===i&&(a=r),i===s.length-1&&(o=r)}),0!==r.length&&r.forEach(function(t){null!==t.getAttribute("face")&&(t.removeAttribute("face"),t.style.fontFamily=e,!a&&(a=t),o=t)}),a&&o&&(n.setStartBefore(a),n.setEndAfter(o))}}},syncValue:function(e){var t=e.type,n=e.data;"fontName"===t&&(this.val=0!==this.list.filter(function(e){return e.val===n}).length?n:"--")}},created:function(){this.eventHub.$on("sync-select-value",this.syncValue)}};t.a=s},function(e,t,n){"use strict";var i=n(1),a={name:"link",props:{view:String,activeComponent:String},data:function(){return{val:"",lang:window.__VUEDITOR_LANGUAGE__.link,position:{left:0,top:0,arrowLeft:0}}},inject:["range","eventHub"],mixins:[i.a],methods:{clickHandler:function(e){this.toggleMenu(e)},addLink:function(){var e=this.val;null===e.match(/^https?:\/\//gim)&&(e="http://"+e),this.eventHub.$emit("exec-command",{name:"createlink",value:e}),this.eventHub.$emit("set-active-component")},clearLink:function(){var e=this.range.getContainer();if(e){for(;e.tagName&&"a"!==e.tagName.toLowerCase();)e=e.parentNode;e.tagName&&"a"===e.tagName.toLowerCase()&&(this.range.setRangeAtNode(e),this.eventHub.$emit("exec-command",{name:"unlink",value:null})),this.eventHub.$emit("set-active-component")}}}};t.a=a},function(e,t,n){"use strict";var i=n(1),a={name:"table",props:{view:String,activeComponent:String},data:function(){return{num:64,x:-1,y:-1,position:{left:0,top:0},lang:window.__VUEDITOR_LANGUAGE__.table}},inject:["eventHub"],mixins:[i.a],methods:{clickHandler:function(e){this.toggleMenu(e)},overHandler:function(e){this.x=e%8,this.y=parseInt(e/8)},insertTable:function(){var e=this.createTable(this.y+1,this.x+1);this.eventHub.$emit("insert-html",e),this.eventHub.$emit("set-active-component")},createTable:function(e,t){var n=document.createElement("table"),i=document.createElement("tbody");n.style.cssText="border-collapse: collapse; width: "+50*t+"px",n.setAttribute("border","1"),n.appendChild(i);for(var a=0;a<e;a++){for(var o=document.createElement("tr"),s=0;s<t;s++){var r=document.createElement("td");r.innerHTML="<br>",o.appendChild(r)}i.appendChild(o)}return n.outerHTML}}};t.a=a},function(e,t,n){"use strict";var i=n(1),a={name:"color",props:{view:String,activeComponent:String},data:function(){return{colors:["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF","#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF","#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE","#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD","#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5","#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B","#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842","#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"],position:{left:0,top:0},key:"",val:"",lang:window.__VUEDITOR_LANGUAGE__.color}},inject:["eventHub"],mixins:[i.a],methods:{clickHandler:function(e,t){if("design"===this.view){this.$refs.popup.style.display="block";var n=t.currentTarget.parentNode,i=n.getBoundingClientRect(),a=this.$refs.popup.offsetWidth,o=this.key!==e||"color"!==this.activeComponent;this.key=e,this.position=this.getPositionForDropdown({popWidth:a,btnWidth:i.width,btnHeight:i.height,rectLeft:i.left,offsetLeft:n.offsetLeft}),this.eventHub.$emit("set-active-component",o?"color":"")}},inputHandler:function(){var e=this.val;this.checkValid(e)?this.setColor(e):window.alert(this.lang.invalidColorCodeMsg)},checkValid:function(e){var t=e.replace(/\s+/g,"");if(/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{6}$/i.test(t)||/^rgb\(((\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5]),){2}(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\)$/.test(t))return!0},setColor:function(e){this.eventHub.$emit("exec-command",{name:this.key,value:e}),this.eventHub.$emit("set-active-component")}}};t.a=a},function(t,n){t.exports=e},function(e,t,n){"use strict";var i=n(4),a=n.n(i);t.default=a.a},function(e,t,n){"use strict";var i=n(5),a=n.n(i);t.default=a.a},function(e,t,n){"use strict";var i=n(6),a=n.n(i);t.default=a.a},function(e,t,n){"use strict";var i=n(7),a=n.n(i);t.default=a.a},function(e,t,n){"use strict";var i=n(8),a=n.n(i);t.default=a.a},function(e,t,n){"use strict";var i=n(10),a=n.n(i);t.default=a.a},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ve-color"},[n("div",{class:["ve-icon",{"ve-active":e.show&&"foreColor"===e.key,"ve-disable":"design"!==e.view}],attrs:{onselectable:"on"}},[n("a",{attrs:{href:"javascript:;",title:e.lang.foreColor},on:{click:function(t){e.clickHandler("foreColor",t)}}},[n("i",{staticClass:"icon-file-text-o"})])]),e._v(" "),n("div",{class:["ve-icon",{"ve-active":e.show&&"backColor"===e.key,"ve-disable":"design"!==e.view}],attrs:{onselectable:"on"}},[n("a",{attrs:{href:"javascript:;",title:e.lang.backColor},on:{click:function(t){e.clickHandler("backColor",t)}}},[n("i",{staticClass:"icon-file-text"})])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"popup",class:e.$style.ctn,style:e.position},[n("div",{staticClass:"ve-input-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.val,expression:"val"}],staticClass:"ve-input",class:e.$style.input,attrs:{type:"text",placeholder:e.lang.colorCode},domProps:{value:e.val},on:{input:function(t){t.target.composing||(e.val=t.target.value)}}}),e._v(" "),n("button",{staticClass:"ve-btn",class:e.$style.input,attrs:{type:"button"},on:{click:e.inputHandler}},[e._v(e._s(e.lang.ok))])]),e._v(" "),n("div",{class:e.$style.list},e._l(e.colors,function(t,i){return n("a",{key:i,style:{background:t},attrs:{href:"javascript:;",title:t},on:{click:function(n){e.setColor(t)}}})}))])])},a=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ve-picture"},[n("div",{class:["ve-icon",{"ve-active":e.show,"ve-disable":"design"!==e.view}],attrs:{unselectable:"on"}},[n("a",{attrs:{href:"javascript:;",title:e.lang.addLink},on:{click:e.clickHandler}},[n("i",{staticClass:"icon-file-image-o"})])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"dialog",staticClass:"ve-dialog",on:{click:function(t){return t.target!==t.currentTarget?null:e.hideDialog(t)}}},[n("div",{class:e.$style.wrap},[n("div",{staticClass:"ve-dialog-header"},[e._v(e._s(e.lang.title)),n("a",{staticClass:"ve-close",attrs:{href:"javascript:;"},on:{click:e.hideDialog}},[e._v("×")])]),e._v(" "),n("div",{staticClass:"ve-dialog-body"},[n("input",{ref:"file",attrs:{type:"file"},on:{change:e.changeHandler}}),e._v(" "),e.url?n("div",{staticClass:"ve-preview"},[n("img",{attrs:{src:e.url}})]):e._e()]),e._v(" "),n("div",{staticClass:"ve-dialog-footer"},[n("div",{staticClass:"ve-btn-box"},[n("button",{staticClass:"ve-btn",on:{click:e.hideDialog}},[e._v(e._s(e.lang.cancel))]),e._v(" "),n("button",{staticClass:"ve-btn",on:{click:e.certainHandler}},[e._v(e._s(e.lang.ok))])])])])])])},a=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ve-fontname"},[n("div",{class:["ve-select",e.$style.select,{"ve-disable":"design"!==e.view}],attrs:{onselectable:"on"}},[n("a",{attrs:{href:"javascript:;"},on:{click:e.clickHandler}},[n("span",[e._v(e._s(e.val))]),n("i",{class:{"ve-triangle-down":!e.show,"ve-triangle-up":e.show}})])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"popup",staticClass:"ve-dropdown",style:e.position},e._l(e.list,function(t,i){return n("a",{key:i,style:{fontFamily:t.val+", sans-serif"},attrs:{href:"javascript:;"},on:{click:function(n){e.selectHandler(t)}}},[e._v(e._s(t.abbr||t.val))])}))])},a=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})},function(e,t,n){"use strict";var i=function(){var e=this.$createElement;return(this._self._c||e)("iframe",{staticClass:"ve-design",attrs:{width:"100%",height:"100%",frameborder:"0",marginheight:"0",marginwidth:"0",src:"javascript:void(function () {document.open();document.write('<!DOCTYPE html><html lang=\\'en\\' class=\\'page\\'><head><meta charset=\\'UTF-8\\'><meta name=\\'viewport\\' content=\\'width=device-width, initial-scale=1.0\\'><meta http-equiv=\\'X-UA-Compatible\\' content=\\'ie=edge\\'><title>Document</title><style>.page {width: 100%; height: 100%; } body {margin: 0; padding: 8px; box-sizing: border-box; word-break: break-all;} pre {margin: 0; padding: 0.5rem; background: #f5f2f0; line-height: 1.6;}</style></head><body contenteditable=\\'true\\' spellcheck=\\'false\\'></body></html>');document.close();}())"},on:{load:this.init}})},a=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ve-link"},[n("div",{class:["ve-icon",{"ve-active":e.show,"ve-disable":"design"!==e.view}],attrs:{onselectable:"on"}},[n("a",{attrs:{href:"javascript:;",title:e.lang.addLink},on:{click:e.clickHandler}},[n("i",{staticClass:"icon-link"})])]),e._v(" "),n("div",{class:["ve-icon",{"ve-disable":"design"!==e.view}],attrs:{onselectable:"on"}},[n("a",{attrs:{href:"javascript:;",title:e.lang.clearLink},on:{click:e.clearLink}},[n("i",{staticClass:"icon-unlink"})])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"popup",class:["ve-popover",e.$style.ctn],style:e.position},[n("div",{staticClass:"ve-pop-arrow",style:{left:e.position.arrowLeft}}),e._v(" "),n("div",{staticClass:"ve-pop-header"},[e._v(e._s(e.lang.addLink))]),e._v(" "),n("div",{staticClass:"ve-pop-body"},[n("div",{staticClass:"ve-input-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.val,expression:"val"}],class:["ve-input",e.$style.input],attrs:{type:"text"},domProps:{value:e.val},on:{input:function(t){t.target.composing||(e.val=t.target.value)}}}),e._v(" "),n("button",{staticClass:"ve-btn",attrs:{type:"button"},on:{click:e.addLink}},[e._v(e._s(e.lang.ok))])])])])])},a=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ve-table"},[n("div",{class:["ve-icon",{"ve-active":e.show,"ve-disable":"design"!==e.view}],attrs:{onselectable:"on"}},[n("a",{attrs:{href:"javascript:;",title:e.lang.title},on:{click:e.clickHandler}},[n("i",{staticClass:"icon-table"})])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"popup",class:e.$style.container,style:e.position},e._l(e.num,function(t){return n("span",{key:t,class:{active:(t-1)%8<=e.x&&parseInt((t-1)/8)<=e.y},on:{mouseover:function(n){e.overHandler(t-1)},click:e.insertTable}})}))])},a=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})},function(e,t,n){"use strict";(function(e){var i=n(26),a=n(13),o=n(18),s=n(0),r={},c=!1;e.hot,e.hot;var l=Object(s.a)(a.a,i.a,i.b,!1,function(e){c||(r.$style=o.default.locals||o.default,Object.defineProperty(this,"$style",{get:function(){return r.$style}}))},null,null);l.options.__file="src/components/fontname.vue",t.a=l.exports}).call(this,n(3)(e))},function(e,t,n){"use strict";(function(e){var i=n(24),a=n(16),o=n(19),s=n(0),r={},c=!1;e.hot,e.hot;var l=Object(s.a)(a.a,i.a,i.b,!1,function(e){c||(r.$style=o.default.locals||o.default,Object.defineProperty(this,"$style",{get:function(){return r.$style}}))},null,null);l.options.__file="src/components/color.vue",t.a=l.exports}).call(this,n(3)(e))},function(e,t,n){"use strict";(function(e){var i=n(28),a=n(14),o=n(20),s=n(0),r={},c=!1;e.hot,e.hot;var l=Object(s.a)(a.a,i.a,i.b,!1,function(e){c||(r.$style=o.default.locals||o.default,Object.defineProperty(this,"$style",{get:function(){return r.$style}}))},null,null);l.options.__file="src/components/link.vue",t.a=l.exports}).call(this,n(3)(e))},function(e,t,n){"use strict";(function(e){var i=n(29),a=n(15),o=n(21),s=n(0),r={},c=!1;e.hot,e.hot;var l=Object(s.a)(a.a,i.a,i.b,!1,function(e){c||(r.$style=o.default.locals||o.default,Object.defineProperty(this,"$style",{get:function(){return r.$style}}))},null,null);l.options.__file="src/components/table.vue",t.a=l.exports}).call(this,n(3)(e))},function(e,t,n){"use strict";(function(e){var i=n(25),a=n(11),o=n(22),s=n(0),r={},c=!1;e.hot,e.hot;var l=Object(s.a)(a.a,i.a,i.b,!1,function(e){c||(r.$style=o.default.locals||o.default,Object.defineProperty(this,"$style",{get:function(){return r.$style}}))},null,null);l.options.__file="src/components/picture.vue",t.a=l.exports}).call(this,n(3)(e))},function(e,t,n){"use strict";(function(e){var i=n(27),a=n(12),o=n(23),s=n(0),r={},c=!1;e.hot,e.hot;var l=Object(s.a)(a.a,i.a,i.b,!1,function(e){c||(r.$style=o.default.locals||o.default,Object.defineProperty(this,"$style",{get:function(){return r.$style}}))},null,null);l.options.__file="src/components/design.vue",t.a=l.exports}).call(this,n(3)(e))},function(e,t,n){"use strict";var i=n(9);n.n(i).a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i={toolbar:["removeFormat","undoRedo","|","codeSnippet","element","fontName","fontSize","color","divider","bold","italic","underline","strikeThrough","link","divider","subscript","superscript","divider","justifyLeft","justifyCenter","justifyRight","justifyFull","|","indent","outdent","insertOrderedList","insertUnorderedList","|","picture","table","|","fullscreen"],spellcheck:!1,paste:{noFormat:!0,upload:!0},upload:{url:"",fieldName:"test"}},a={app:{},removeFormat:{title:"Remove format"},bold:{title:"Bold"},italic:{title:"Italic"},underline:{title:"Underline"},strikeThrough:{title:"Strike through"},superscript:{title:"Superscript"},subscript:{title:"Subscript"},indent:{title:"Indent"},outdent:{title:"Outdent"},justifyLeft:{title:"Justify left"},justifyCenter:{title:"Justify center"},justifyRight:{title:"Justify right"},justifyFull:{title:"Justify full"},insertOrderedList:{title:"Insert ordered list"},insertUnorderedList:{title:"Insert unordered list"},color:{foreColor:"Text color",backColor:"Background color",ok:"ok",colorCode:"Color code",invalidColorCodeMsg:"Please enter the correct color code"},fontName:{},fontSize:{},element:{ieMsg:"You must select a text to use this feature in IE browser"},codeSnippet:{},design:{},link:{addLink:"Add link",clearLink:"Clear link",ok:"OK"},picture:{title:"Insert Picture",ok:"OK",cancel:"Cancel",invalidFile:"No file selected or selected file is not a picture"},fullscreen:{title:"Fullscreen"},table:{title:"Table"},undoRedo:{undo:"Undo",redo:"Redo"}},o=n(17),s=n.n(o),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vueditor",class:{"ve-fullscreen":e.fullscreen}},[n("ve-toolbar",{attrs:{btns:e.config.toolbar,view:e.view,content:e.content,fullscreen:e.fullscreen,activeComponent:e.activeComponent}}),e._v(" "),n("div",{staticClass:"ve-container"},[n("div",{staticClass:"ve-wrapper"},[n("ve-design",{attrs:{view:e.view,content:e.content,config:e.config}})],1)])],1)};r._withStripped=!0;var c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ve-toolbar"},[e._l(e.finalBtns,function(t){return["divider"==t||"|"==t?n("div",{key:t,staticClass:"ve-divider"}):-1!==t.indexOf("ve-")?n(t,{key:t,tag:"component",attrs:{view:e.view,content:e.content,activeComponent:e.activeComponent}}):n("div",{key:t,class:["ve-icon",{"ve-active":"active"===e.status[t],"ve-disable":"disable"===e.status[t]}],attrs:{unselectable:"on"}},[n("a",{attrs:{href:"javascript:;",title:e.lang[t].title},on:{click:function(n){n.stopPropagation(),n.preventDefault(),e.clickHandler(n,t)}}},[n("i",{class:e.toolbarConf[t].className})])])]})],2)};c._withStripped=!0;var l={removeFormat:{className:"icon-eraser",action:"removeFormat",native:!0},bold:{className:"icon-bold",action:"bold",native:!0},italic:{className:"icon-italic",action:"italic",native:!0},underline:{className:"icon-underline",action:"underline",native:!0},strikeThrough:{className:"icon-strikethrough",action:"strikeThrough",native:!0},superscript:{className:"icon-superscript",action:"superscript",native:!0},subscript:{className:"icon-subscript",action:"subscript",native:!0},indent:{className:"icon-indent",action:"indent",native:!0},outdent:{className:"icon-outdent",action:"outdent",native:!0},justifyLeft:{className:"icon-align-left",action:"justifyLeft",native:!0},justifyCenter:{className:"icon-align-center",action:"justifyCenter",native:!0},justifyRight:{className:"icon-align-right",action:"justifyRight",native:!0},justifyFull:{className:"icon-align-justify",action:"justifyFull",native:!0},insertOrderedList:{className:"icon-list-ol",action:"insertOrderedList",native:!0},insertUnorderedList:{className:"icon-list-ul",action:"insertUnorderedList",native:!0},fullscreen:{className:"icon-fullscreen",action:"fullscreen"}},u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ve-fontsize"},[n("div",{class:["ve-select",{"ve-disable":"design"!==e.view}],attrs:{onselectable:"on"}},[n("a",{attrs:{href:"javascript:;"},on:{click:e.clickHandler}},[n("span",[e._v(e._s(e.val))]),n("i",{class:{"ve-triangle-down":!e.show,"ve-triangle-up":e.show}})])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"popup",staticClass:"ve-dropdown",style:e.position},e._l(e.list,function(t,i){return n("a",{key:i,attrs:{href:"javascript:;"},on:{click:function(n){e.selectHandler(t)}}},[e._v(e._s(t))])}))])};u._withStripped=!0;var d=n(1),f={name:"fontSize",props:{view:String,activeComponent:String},data:function(){return{list:["12px","14px","16px","18px","20px","24px","28px","32px","36px","42px","48px"],val:"12px",position:{left:0,top:0}}},inject:["range","eventHub"],mixins:[d.a],methods:{clickHandler:function(e){this.toggleMenu(e)},selectHandler:function(e){this.val=e,this.setFontSize(e),this.eventHub.$emit("set-active-component")},assignElement:function(e,t){e.nextSibling;for(Array.prototype.forEach.call(e.attributes,function(e){"size"!==e.nodeName&&t.setAttribute(e.nodeName,e.nodeValue)});e.firstChild;)t.appendChild(e.firstChild);return t.normalize(),t},parseFontElement:function(e){if(1===e.nodeType){var t=null;if(""===e.innerHTML.trim())return t=document.createTextNode(e.innerHTML),e.parentNode.replaceChild(t,e),t;if(1===e.parentNode.children.length&&e.parentNode.innerHTML.trim()===e.outerHTML.trim())return t=e.parentNode,this.assignElement(e,t),t.removeChild(e),t;if(1===e.children.length&&e.innerHTML.trim()===e.children[0].outerHTML.trim()){for(t=e.children[0];e.firstChild;)e.parentNode.insertBefore(e.firstChild,e);return e.parentNode.removeChild(e),t}return t=this.assignElement(e,document.createElement("span")),e.parentNode.replaceChild(t,e),t}},setFontSize:function(e){var t=this,n=this.range.getRange();if(n&&!n.collapsed){var i,a,o=n.commonAncestorContainer;if(1===o.childNodes.length)1===o.childNodes[0].nodeType?o.childNodes[0].style.fontSize=e:o.style.fontSize=e;else this.eventHub.$emit("exec-command",{name:"fontSize",value:7}),3===(o=(n=this.range.getRange()).commonAncestorContainer).nodeType&&(o=o.parentNode),o=o.parentNode,Array.prototype.slice.call(o.getElementsByTagName("font")).forEach(function(n,o){1===(n=t.parseFontElement(n)).nodeType&&(n.style.fontSize=e),!i&&(i=n),a=n}),i&&a&&(n.setStartBefore(i),n.setEndAfter(a)),Array.prototype.slice.call(o.getElementsByTagName("span")).forEach(function(i,a){var o=t.range.isNodeInRange(n,i);console.log(o),o&&""!==i.style.fontSize&&i.style.fontSize!==e&&(i.style.fontSize=e)})}},syncValue:function(e){var t=e.type,n=e.data;if("fontSize"===t){var i=n.match(/[a-z]+/gi)[0];if("px"===i)-1!==this.list.indexOf(n)&&(this.val=n);else if("rem"===i){var a=parseInt(window.getComputedStyle(document.documentElement).fontSize),o=(parseInt(n)/a).toFixed(1)+"rem";-1!==this.list.indexOf(o)&&(this.val=o)}else this.val="--"}}},created:function(){this.eventHub.$on("sync-select-value",this.syncValue)}},v=n(0),h=Object(v.a)(f,u,[],!1,null,null,null);h.options.__file="src/components/fontsize.vue";var p=h.exports,m=n(30),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ve-element"},[n("div",{class:["ve-select",{"ve-disable":"design"!==e.view}],attrs:{onselectable:"on"}},[n("a",{attrs:{href:"javascript:;"},on:{click:e.clickHandler}},[n("span",[e._v(e._s(e.val))]),n("i",{class:{"ve-triangle-down":!e.show,"ve-triangle-up":e.show}})])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"popup",staticClass:"ve-dropdown",style:e.position},e._l(e.list,function(t,i){return n("a",{key:i,attrs:{href:"javascript:;"},on:{click:function(n){e.selectHandler(t)}}},[e._v(e._s(t))])}))])};g._withStripped=!0;var b=n(2),y={name:"element",props:{view:String,activeComponent:String},data:function(){return{list:["p","h1","h2","h3","h4","h5","h6"],val:"p",position:{left:0,top:0}}},inject:["range","eventHub"],mixins:[d.a],methods:{clickHandler:function(e){this.toggleMenu(e)},selectHandler:function(e){this.val=e,this.formatBlock(e),this.eventHub.$emit("set-active-component")},formatBlock:function(e){var t=window.__VUEDITOR_LANGUAGE__.element;if("IE"===Object(b.a)()){var n=this.range.getRange();!n||n.collapsed?window.alert(t.ieMsg):this.eventHub.$emit("exec-command",{name:"formatblock",value:"<"+e.toUpperCase()+">"})}else this.eventHub.$emit("exec-command",{name:"formatblock",value:e})},syncValue:function(e){var t=this,n=e.type,i=e.data;if("element"===n){var a="--";Array.isArray(i)&&i.forEach(function(e){-1!==t.list.indexOf(e)&&"--"===a&&(a=e)}),this.val=a}}},created:function(){this.eventHub.$on("sync-select-value",this.syncValue)}},C=Object(v.a)(y,g,[],!1,null,null,null);C.options.__file="src/components/element.vue";var w=C.exports,_=n(31),k=n(32),x=n(33),H=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ve-undoredo"},[t("div",{class:["ve-icon",{"ve-disable":!this.canUndo}]},[t("a",{attrs:{href:"javascript:;",title:this.lang.undo},on:{click:this.undo}},[t("i",{staticClass:"icon-undo"})])]),this._v(" "),t("div",{class:["ve-icon",{"ve-disable":!this.canRedo}],attrs:{onselectable:"on"}},[t("a",{attrs:{href:"javascript:;",title:this.lang.redo},on:{click:this.redo}},[t("i",{staticClass:"icon-repeat"})])])])};H._withStripped=!0;var N={name:"undoRedo",props:{view:String,content:String},data:function(){return{stack:[],index:-1,lang:window.__VUEDITOR_LANGUAGE__.undoRedo}},inject:["eventHub"],computed:{canUndo:function(){return"design"===this.view&&this.index>0},canRedo:function(){return"design"===this.view&&this.index<this.stack.length-1}},watch:{content:function(e){this.push(e)},view:function(e,t){"design"===e&&"codeSnippet"!==t&&(this.stack=[],this.index=-1,this.push(this.content))}},created:function(){this.eventHub.$on("undo",this.undo),this.eventHub.$on("redo",this.redo)},methods:{setContent:function(e){this.eventHub.$emit("set-content",e)},undo:function(){this.canUndo&&(this.index--,this.setContent(this.stack[this.index]))},redo:function(){this.canRedo&&(this.index++,this.setContent(this.stack[this.index]))},push:function(e){e!==this.stack[this.index]&&(this.stack=this.stack.slice(0,this.index+1),this.stack.push(e),this.index++)}}},E=Object(v.a)(N,H,[],!1,null,null,null);E.options.__file="src/components/undoredo.vue";var $=E.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ve-codesnippet"},[n("div",{class:["ve-select",{"ve-disable":"design"!==e.view&&"codeSnippet"!==e.view}],attrs:{onselectable:"on"}},[n("a",{attrs:{href:"javascript:;"},on:{click:e.clickHandler}},[n("span",[e._v(e._s(e.val))]),n("i",{class:{"ve-triangle-down":!e.show,"ve-triangle-up":e.show}})])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"popup",staticClass:"ve-dropdown",style:e.position},e._l(e.list,function(t,i){return n("a",{key:i,attrs:{href:"javascript:;"},on:{click:function(n){e.selectHandler(t)}}},[e._v(e._s(t))])}))])};S._withStripped=!0;var T={name:"codeSnippet",props:{view:String,activeComponent:String},data:function(){return{list:["bash","sql","clike","php","python","java","javascript","css","html"],val:"bash",pattern:{attrName:"class",attrValue:"language-#lang#"},position:{left:0,top:0}}},inject:["range","eventHub"],mixins:[d.a],methods:{clickHandler:function(e){this.toggleMenu(e)},selectHandler:function(e){this.val=e,this.insertCodeBlock(e),this.eventHub.$emit("set-active-component")},insertCodeBlock:function(e){var t=this.range.getContainer();if(t)if("code"===t.tagName.toLowerCase())t.setAttribute(attrName,e);else{var n=this.pattern,i=n.attrName,a=n.attrValue,o=document.createElement("div"),s=("<pre><code "+i+'="'+a+'"><br></code></pre>').replace(/#lang#/gim,e);o.innerHTML=s,"pre"===t.tagName.toLowerCase()?this.eventHub.$emit("insert-html",o.children[0].outerHTML):this.eventHub.$emit("insert-html",s)}},syncValue:function(e){var t=e.type,n=e.data;if("codeSnippet"===t){var i=this.pattern,a=i.attrName,o=i.attrValue;o=o.replace(/#lang#/,"");var s=n&&n[a]?n[a].value:"";if("class"===a){var r=s.match(new RegExp(o+"[^\\s]+","gim"));s=r?r[0]:""}this.val=s.replace(o,"")||"--"}}},created:function(){this.eventHub.$on("sync-select-value",this.syncValue)}},L=Object(v.a)(T,S,[],!1,null,null,null);L.options.__file="src/components/codesnippet.vue";var F=L.exports,j=n(34);var A={name:"toolbar",props:{btns:Array,view:String,content:String,fullscreen:Boolean,activeComponent:String},data:function(){return this.toolbarConf=l,{lang:window.__VUEDITOR_LANGUAGE__}},computed:{finalBtns:function(){for(var e=[],t=0,n="";t<this.btns.length;t++)n=this.btns[t],l.hasOwnProperty(n)||"divider"==n||"|"==n?e.push(n):e.push("ve-"+n.toLowerCase());return e},status:function(){for(var e={},t=0,n="";t<this.btns.length;t++)n=this.btns[t],l.hasOwnProperty(n)&&"divider"!==n&&"|"!==n&&(e[n]="default");return e}},inject:["eventHub"],components:{"ve-fontsize":p,"ve-fontname":m.a,"ve-element":w,"ve-color":_.a,"ve-link":k.a,"ve-table":x.a,"ve-undoredo":$,"ve-codesnippet":F,"ve-picture":j.a},watch:{view:function(e){var t={},n=["fullscreen","divider","|"];this.btns.forEach(function(i){-1===n.indexOf(i)&&(t[i]="design"!==e?"disable":"default")}),this.setButtonStatus(t)}},methods:{setButtonStatus:function(e){for(var t in e)void 0!==this.status[t]&&(this.status[t]=e[t])},doAction:function(e){switch(e){case"fullscreen":this.eventHub.$emit("set-fullscreen",!this.fullscreen)}},clickHandler:function(e,t){var n,i,a;"disable"!==this.status[t]&&(this.toolbarConf[t].native?(this.eventHub.$emit("exec-command",{name:t,value:null}),this.eventHub.$emit("set-active-component")):this.doAction(t),this.setButtonStatus((n={},i=t,a="active"===this.status[t]?"default":"active",i in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n)))}},created:function(){this.eventHub.$on("set-button-status",this.setButtonStatus)}},O=(n(36),Object(v.a)(A,c,[],!1,null,null,null));O.options.__file="src/components/toolbar.vue";var D=O.exports,R=n(35);function B(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"setIframeWin",value:function(e){this.iframeWin=e}},{key:"getSelection",value:function(){if(this.iframeWin&&this.iframeWin.getSelection)return this.iframeWin.getSelection()}},{key:"getRange",value:function(){var e,t=this.getSelection();return t&&0!==t.rangeCount&&(e=t.getRangeAt(0)),e}},{key:"getContainer",value:function(e){var t=this.getRange();if(t){var n=t.commonAncestorContainer;return e?n:(3===n.nodeType&&(n=n.parentNode),n)}}},{key:"setRange",value:function(e){var t=this.getSelection();t.removeAllRanges(),t.addRange(e)}},{key:"setRangeAtOffset",value:function(e,t,n,i){var a=this.getRange();a&&(a.setStart(e,t),a.setEnd(n,i),this.setRange(a))}},{key:"setRangeAtNode",value:function(e){var t=this.getRange();t&&(t.selectNode(e),this.setRange(t))}},{key:"setRangeAtNodeContent",value:function(e){var t=this.getRange();t&&(t.selectNodeContents(e),this.setRange(t))}},{key:"isNodeInRange",value:function(e,t){for(var n=t.ownerDocument.createRange(),i=null;(i=t.lastChild)&&1===i.nodeType;)t=i;return t.firstChild&&i?(n.setStart(t.firstChild,0),n.setEnd(i,i.nodeValue.length)):n.selectNodeContents(t),e.compareBoundaryPoints(e.START_TO_START,n)<=0&&e.compareBoundaryPoints(e.END_TO_END,n)>=0}}])&&B(t.prototype,n),i&&B(t,i),e}(),P=(n(37),{data:function(){return{activeComponent:"",view:"design",content:"",fullscreen:!1}},components:{"ve-toolbar":D,"ve-design":R.a},methods:{setContent:function(e){this.content!==e&&(this.content=e)},getContent:function(){return this.content}},provide:function(){return this.range=new M,this.eventHub=new s.a,{range:this.range,eventHub:this.eventHub}},created:function(){var e=this;this.eventHub.$on("set-view",function(t){return e.view=t}),this.eventHub.$on("set-content",this.setContent),this.eventHub.$on("set-fullscreen",function(t){return e.fullscreen=t}),this.eventHub.$on("set-active-component",function(t){return e.activeComponent=t})}}),U=Object(v.a)(P,r,[],!1,null,null,null);U.options.__file="src/components/app.vue";var V=U.exports;function I(e){var t,n=e?Object.assign({},i,e):i;return n.toolbar=(t=n.toolbar).filter(function(e,n){return"|"===e||"divider"===e||t.indexOf(e)===n}),window.__VUEDITOR_LANGUAGE__=n.lang||a,{extends:V,beforeCreate:function(){this.config=n}}}t.default={install:function(e,t){e.component("Vueditor",I(t))},createEditor:function(e,t){var n=document.querySelector(e),i=(new(s.a.extend(I(t)))).$mount(e);return Array.prototype.forEach.call(n.attributes,function(e){i.$el.setAttribute(e.nodeName,e.nodeValue)}),i}}}])});